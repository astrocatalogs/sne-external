<!DOCTYPE html>
<html lang="en">

    <head>

        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name=viewport content="width=device-width, initial-scale=1">
        <title>DES-SN | summary | DES16E1md</title>
        
        <!-- Bootstrap -->
        <link rel=stylesheet href="/des-sn/static/bootstrap-3.2.0-dist/css/bootstrap.min.css">
        
        <!-- HTML5 Shim and Respond.js IE8 support of HTML5 elements and media queries -->
        <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
        <!--[if lt IE 9]>
            <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
            <script src="https://oss.maxcdn.com/libs/respond.js/1.4.2/respond.min.js"></script>
        <![endif]-->

        <!-- ATC-wide CSS -->
        <link rel=stylesheet href="/des-sn/static/atc/css/atc.css">


<style type="text/css">
.panel-heading span.placeholder:after {
    font-family: 'Glyphicons Halflings';
    content: "\e113";
    float: right;
    color: white;
}
.panel-heading span.placeholder.collapsed:after {
    content: "\e114";
}
</style>
    </head>

    <body>

        <nav class="navbar navbar-default navbar-fixed-top" role="navigation">

            <div class="container-fluid">

                <!-- Brand and toggle get grouped for better mobile display -->

                <div class="navbar-header">
                    <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#bs-example-navbar-collapse-1">
                        <span class="sr-only">Toggle navigation</span>
                        <span class="icon-bar"></span>
                        <span class="icon-bar"></span>
                        <span class="icon-bar"></span>
                    </button>
                    <a class="navbar-brand" href="http://www.darkenergysurvey.org">
                        Dark Energy Survey
                    </a>
                </div>

                <div class="collapse navbar-collapse" id="bs-example-navbar-collapse-1">
                    <form class="nav navbar-form navbar-right" role="search">
                        <div class="input-group">
                            <input type="text" class="form-control" placeholder="&#171; jump to candidate &#187;" id=target_name>
                        </div>
                    </form>
                    <ul class="nav navbar-nav navbar-right">
                        <li><a href="/des-sn/">about</a></li>
                        <li><a href="/des-sn/transients/">transients</a></li>
                    </ul>
                </div>

            </div>

        </nav>


<div class=container>

    <div class="page-header">
        <h1><img src="/des-sn/static/atc/assets/logo-atc.png"> DES16E1md</h1>
        <ul class="list-inline">
            <li><a href="/des-sn/finders/DES16E1md">finder chart</a></li>
            <li><a href="http://hla.stsci.edu/hlaview.html#Inventory|filterText%3D%24filterTypes%3D|query_string=8.508534%20-42.333946%20r%3D0.0005d&posfilename=&poslocalname=&posfilecount=&listdelimiter=whitespace&listformat=degrees&RA=8.508534&Dec=-42.333946&Radius=0.000500&inst-control=all&inst=ACS&inst=ACSGrism&inst=WFC3&inst=WFPC2&inst=NICMOS&inst=NICGRISM&inst=COS&inst=WFPC2-PC&inst=STIS&inst=FOS&inst=GHRS&imagetype=best&prop_id=&spectral_elt=&proprietary=both&preview=1&output_size=256&cutout_size=12.8|ra=&dec=&sr=&level=&image=&inst=ACS%2CACSGrism%2CWFC3%2CWFPC2%2CNICMOS%2CNICGRISM%2CCOS%2CSTIS%2CFOS%2CGHRS&ds=" target="_blank">HLA</a></li>
            <li><a href="http://ned.ipac.caltech.edu/cgi-bin/objsearch?search_type=Near+Position+Search&in_csys=Equatorial&in_equinox=J2000.0&lon=00:34:02.05&lat=-42:20:02.2&radius=1.0&hconst=73&omegam=0.27&omegav=0.73&corr_z=1&z_constraint=Unconstrained&z_value1=&z_value2=&z_unit=z&ot_include=ANY&nmp_op=ANY&out_csys=Equatorial&out_equinox=J2000.0&obj_sort=Distance+to+search+center&of=pre_text&zv_breaker=30000.0&list_limit=5&img_stamp=YES" target="_blank">NED</a></li>
            <li><a href="https://portal-auth.nersc.gov/atc2/web/targets/DES16E1md">ATC (internal)</a></li>
        </ul>
    </div>

    <div class=row>

        <div class="col-md-8">
            <div class=row>
                <div class="photometry-plot" id="photometry-plot" style="height: 450px; margin: 0 auto"></div>
            </div>
        </div>

        <div class="col-md-4 col-sm-6">
            <div class=display>
                <div class="display-header">
                    sexagesimal coordinates (J2000.0)
                </div>
                <div class="display-body">
                    <h3>
                    00:34:02.05
                    -42:20:02.2
                    </h3>
                </div>
            </div>
        </div>

        <div class="col-md-4 col-sm-6">
            <div class=display>
                <div class="display-header">
                    decimal coordinates (J2000.0)
                </div>
                <div class="display-body">
                    <h3>
                        8.508534
                        -42.333946
                    </h3>
                </div>
            </div>
        </div>


        <div class="col-md-4 col-sm-6">
            <div class=display>
                <div class="display-header">
                    astronomer's telegram                    
                </div>
                <div class="display-body">
                    <h3>
                        <a href="http://www.astronomerstelegram.org/?read=9504" target="_blank"><span class="glyphicon glyphicon-link"></span></a>
                        9504
                    </h3>
                </div>
            </div>
        </div>

    </div>

    <div class=row>
        <div id=stamps_display>
        </div>
    </div>

    <div class=row>
        <div class="col-md-12">
            <p><center><small>
                    Difference stamps labeled with UTC and MJD.
            &#9679; Display ordering is survey image, template, difference.
            &#9679; Stamps may not be available for all filter-epochs.
            </small></center></p>
        </div>
    </div>

</div>


        <div class=container>
            <div class=row>
                <hr>
                <div class="col-md-9">
                    <p class="text-justify">
                        <small>
                            We encourage observers to follow-up as many bright DES transients as they wish.
                            Peer-reviewed publications resulting from observations of transients advertised here should acknowledge DES and CTIO.
                            Details on how to do this are available <a href="/des-sn/">here.</a>
                            Contact <img src="/des-sn/static/atc/assets/email.png">to report issues.
                        </small>
                    </p>
                </div>
                <div class="col-md-3">
                    <p class="text-right">
                        <a href="http://www.nersc.gov"><img src="/des-sn/static/atc/assets/poweredbynersc.png"></a>
                        <a href="http://www.ncsa.illinois.edu/"><img src="http://www.ncsa.illinois.edu/assets/img/logos_ncsa.png" width=35></a>
                    </p>
                </div>
            </div>
        </div>


        <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
        <script type="text/javascript" src="/des-sn/static/jquery-2.1.1.min.js"></script>

        <!-- Include all compiled plugins (below), or include individual files as needed -->
        <script type="text/javascript" src="/des-sn/static/bootstrap-3.2.0-dist/js/bootstrap.min.js"></script>

        <!-- Make the target jump work. -->
        <script type="text/javascript">
            $( function() {
                $( "#target_name" ).keydown( function( event ) {
                    if( event.which == 13 ) {
                        window.location = "/des-sn/transients/" + $( "#target_name" ).val();
                        return false;
                    }
                } );
            } );
        </script>



<!-- Highcharts -->
<script type="text/javascript" src="/des-sn/static/highcharts/highcharts.js"></script>
<script type="text/javascript" src="/des-sn/static/highcharts/highcharts-more.js"></script>
<script type="text/javascript" src="/des-sn/static/highcharts/modules/exporting.js"></script>

<!-- Core Select2 Libraries delivered via CDN -->

<script type="text/javascript">

// Define a custom symbol path
Highcharts.SVGRenderer.prototype.symbols.cross = function (x, y, w, h) {
    var xc = x + 0.5 * w;
    return [ 'M', xc, y, 'L', xc, y + h, 'M', xc - 0.5 * w, y + 0.66 * h, 'L', xc, y + h, 'M', xc + 0.5 * w, y + 0.66 * h, 'L', xc, y + h, 'z' ];
};
if (Highcharts.VMLRenderer) {
    Highcharts.VMLRenderer.prototype.symbols.cross = Highcharts.SVGRenderer.prototype.symbols.cross;
}

var options = {
    chart : {
        zoomType: "xy"
    },
//  credits : {
//      enabled: false
//  },
    exporting: {
        enabled: false
    },
    legend : {
        backgroundColor : "#F0F0F0",
        borderWidth     : 1,
        layout          : "horizontal",
        margin          : 6,
        verticalAlign   : "bottom",
    },
    plotOptions: {
        series : {
            animation      : false,
            showInLegend   : false,
            stickyTracking : false,
        }
    },
    title: {
        text: null
    },
    subtitle: {
        text: null
    },
    tooltip : {
        formatter : function() {
            var utc = new Date( this.x );
            var utc_year  = utc.getUTCFullYear();
            var utc_month = utc.getUTCMonth() + 1;
            var utc_day   = utc.getUTCDate();
            utc_month = utc_month < 10 ? "0" + utc_month : utc_month;
            utc_day   = utc_day   < 10 ? "0" + utc_day   : utc_day;
            return "MJD: " + ( 40587.0 + this.x / 86400000.0 ) + "<br/>" + 
                "UTC: " + utc_year + "-" + utc_month + "-" + utc_day + "<br/>" +
                this.series.name + ": " + Highcharts.numberFormat( this.y, 1 );
        },
    },
    xAxis: [ {
        title: {
            text: "UTC"
        },
        gridLineWidth: 1,
        type : "datetime",
        dateTimeLabelFormats: {
            day : "%Y-%m-%d",
            week : "%Y-%m-%d",
        },
        tickPosition: "inside",
    } ],
    yAxis: {
        title: {
            text: "Magnitude"
        },
        endOnTick: false,
        gridLineWidth: 1,
        reversed: true,
        tickPosition: "inside",
    },
    series: []
};

var bands = [
    { filter : "g", color : "#0000FF" },
    { filter : "r", color : "#228B22" }, //"#00FF00" },
    { filter : "i", color : "#FF0000" },
    { filter : "z", color : "#000000" }
];

var data = {"band": ["g", "g", "g", "g", "g", "g", "g", "g", "g", "g", "g", "g", "g", "g", "g", "r", "r", "r", "r", "r", "r", "r", "r", "r", "r", "r", "r", "r", "r", "r", "r", "r", "r", "r", "i", "i", "i", "i", "i", "i", "i", "i", "i", "i", "i", "i", "i", "i", "i", "i", "i", "i", "i", "i", "i", "z", "z", "z", "z", "z", "z", "z", "z", "z", "z", "z", "z", "z", "z", "z", "z", "z", "z", "z", "z", "z", "z"], "mag": [20.604253487516385, 21.293637797033909, 20.638172576903372, 20.76199650980222, 20.941230694721227, 20.968861591202213, 21.343555828025728, 22.57533080232702, 23.006606058487307, 29.666392256127256, 24.582149911229106, 34.043066886033245, 27.511504394827409, 24.36127600481116, 27.37773074629057, 20.41259787185589, 20.2879549691161, 20.354619858332562, 20.429043160082614, 20.618054839358308, 20.717681601695585, 20.813076714961433, 20.955298436024918, 21.362964044666622, 25.026408829385268, 26.759763675449694, 23.386861997801784, 22.750120611293458, 24.40501026807037, 30.047119026086719, 23.110941626966138, 23.498030453731758, 30.528871982441363, 31.296035159080944, 20.57883024647678, 20.622842272673225, 20.57246519556832, 20.64940917274749, 20.784616371109507, 20.974680967310011, 21.116718777749398, 21.289642049254141, 21.289286000124974, 22.145748607506526, 25.868586460753662, 22.417446388292724, 22.524485962037986, 22.312319343234705, 22.528089958158645, 29.880742229664239, 23.418806153645555, 22.940206433132253, 30.784146805538363, 29.756509623396244, 30.502217494332683, 20.95508907694121, 21.169515907077301, 21.051141186425056, 21.238143409320781, 21.43473892975873, 21.570161040492593, 21.731206421992173, 21.651918129252596, 21.510548629646287, 21.476477625062849, 24.795461998419299, 21.436857519595549, 22.405438123529144, 20.596665383710743, 22.187843178942359, 22.183616305096802, 22.390612182578302, 22.953841408595611, 23.624367950848359, 22.891809019291337, 28.833980288372373, 30.679927613948703], "mag_error": [0.038988308069813807, 0.65658142941721831, 0.021339105802710808, 0.02898771976631917, 0.03870155466335938, 0.073491055906045266, 0.12257008196001054, 0.12439236301981464, 0.17539574714021991, 2709.7490702704363, 11.629510090300938, 225120.93944817199, 807.88842475003821, 1.1765910251574019, 176.22841221976572, 0.036526207686869233, 0.19427577975471069, 0.026961285122313924, 0.032852397804497578, 0.049459077824665312, 0.098223662890897262, 0.078038007189107264, 0.15296202572289105, 0.074216230151899654, 10.008882070359633, 559.0108374958287, 1.2681461780039389, 0.45964436629718153, 3.569284022417377, 8033.5158554728005, 0.5469181479056171, 0.5913931577906778, 9364.4747660388675, 22262.786250649209, 0.049548961417613696, 0.23277061998151072, 0.045990462632845369, 0.050586334376352682, 0.074764296932516613, 0.16044383503834367, 0.13102445750145236, 0.21095097017764464, 0.093518771431837303, 0.35318157291305902, 260.89274704056095, 0.59239538319296192, 0.45395033832569104, 0.31109762878827196, 0.31411320202513376, 10739.65388453521, 1.1180283915389642, 0.45733551481997042, 26316.813067335228, 5327.7771396501885, 22157.177936287208, 0.054446431149142965, 0.17931416736146635, 0.054957194239633161, 0.06619696622816848, 0.11622973969287027, 0.21566713171593832, 0.13742710958802473, 0.22466422039937667, 0.12675215115927338, 0.095516362054805723, 14.343984482640737, 0.16691618947731465, 0.47060842701014832, 0.24656243259766053, 0.35494313659563459, 0.42275807838262064, 0.22444111075393414, 0.39474120233748389, 1.0409635777577941, 0.34050065520274109, 19124.002972462538, 32397.425997571416], "mjd": [57623.207999999999, 57627.349999999999, 57629.203000000001, 57633.212, 57637.203999999998, 57638.093999999997, 57642.142, 57657.195, 57661.065999999999, 57666.021999999997, 57670.993999999999, 57680.002999999997, 57708.050000000003, 57718.027999999998, 57719.029000000002, 57623.209999999999, 57627.351999999999, 57629.205000000002, 57633.214, 57637.205999999998, 57638.095999999998, 57642.144, 57645.076000000001, 57657.197, 57661.067999999999, 57670.995999999999, 57680.004999999997, 57682.004999999997, 57694.014000000003, 57708.052000000003, 57718.031000000003, 57719.031000000003, 57723.118999999999, 57751.059999999998, 57623.213000000003, 57627.353999999999, 57629.207999999999, 57633.216, 57637.207999999999, 57638.097999999998, 57642.146000000001, 57645.078000000001, 57657.199000000001, 57661.07, 57666.025999999998, 57680.006999999998, 57682.006999999998, 57694.016000000003, 57708.053999999996, 57714.048000000003, 57718.033000000003, 57719.033000000003, 57723.120999999999, 57747.048000000003, 57751.061999999998, 57623.214999999997, 57627.360000000001, 57629.209999999999, 57633.220999999998, 57637.211000000003, 57638.101000000002, 57642.148999999998, 57645.082999999999, 57653.061000000002, 57657.201999999997, 57661.074999999997, 57671.000999999997, 57680.010000000002, 57681.008000000002, 57682.010000000002, 57686.014000000003, 57694.021000000001, 57708.057000000001, 57718.035000000003, 57719.036, 57723.123, 57747.050000000003], "snr": [27.847738424913768, 1.6536200326619488, 50.880117226852271, 37.455040048360281, 28.05407209612817, 14.773718942699505, 8.8580850024425981, 8.7283188324445682, 6.1902082716414961, 0.0004006777663179608, 0.093360442213609521, 4.8229018918432986e-06, 0.001343918505942275, 0.92278130764500932, 0.0061609600352306509, 29.724854385812396, 5.5886338797814208, 40.270194830569977, 33.048918110004415, 21.952212869942983, 11.053713258119075, 13.912915563400999, 7.0980767914584897, 14.629363449691992, 0.10847727020117817, 0.0019422453590020627, 0.85616013641824595, 2.3621222935998096, 0.30418879471037175, 0.00013515081370238112, 1.9851895734597156, 1.835895783465292, 0.00011594202898550725, 4.8769106999195494e-05, 21.912390768541339, 4.6644039735099341, 23.60785568577257, 21.463033804356314, 14.522121511262675, 6.7670796107476168, 8.2865155518472164, 5.1468651878861538, 11.609821088694328, 3.074158699172564, 0.0041616189682319154, 1.8327897812202747, 2.3917510641420812, 3.4900176159718144, 3.4565124858115777, 0.00010109601449275362, 0.97111684548870492, 2.3740474325190517, 4.1256371049949032e-05, 0.0002037878417769961, 4.9001556420233457e-05, 19.941365886480515, 6.0549382167303767, 19.756034124011652, 16.401600656679662, 9.3412942989214169, 5.0343146687191327, 7.9004514321295138, 4.832706350962602, 8.5658207362005445, 11.367017978921265, 0.075692789968652044, 6.5046788340785264, 2.3070904438664379, 4.4034940494354595, 3.0589018150111285, 2.5682210708117448, 4.8375103879630847, 2.7505013368983957, 1.0430107526881722, 3.1886464480124417, 5.6773480234317421e-05, 3.3513039117352053e-05], "stamps": ["http://dessne.cosmology.illinois.edu/SNWG/stamps/stamps/20160822-r2457/D_SN-E1_g_s1/p01/ccd07/stamps/REPLACE11986237.gif", null, "http://dessne.cosmology.illinois.edu/SNWG/stamps/stamps/20160828-r2473/D_SN-E1_g_s1/p01/ccd07/stamps/REPLACE12373608.gif", "http://dessne.cosmology.illinois.edu/SNWG/stamps/stamps/20160901-r2487/D_SN-E1_g_s1/p01/ccd07/stamps/REPLACE12475653.gif", "http://dessne.cosmology.illinois.edu/SNWG/stamps/stamps/20160905-r2495/D_SN-E1_g_s1/p01/ccd07/stamps/REPLACE12595401.gif", "http://dessne.cosmology.illinois.edu/SNWG/stamps/stamps/20160906-r2500/D_SN-E1_g_s1/p01/ccd07/stamps/REPLACE12653352.gif", "http://dessne.cosmology.illinois.edu/SNWG/stamps/stamps/20160910-r2517/D_SN-E1_g_s1/p01/ccd07/stamps/REPLACE12688739.gif", "http://dessne.cosmology.illinois.edu/SNWG/stamps/stamps/20160925-r2552/D_SN-E1_g_s1/p01/ccd07/stamps/REPLACE13062850.gif", "http://dessne.cosmology.illinois.edu/SNWG/stamps/stamps/20160929-r2563/D_SN-E1_g_s1/p01/ccd07/stamps/REPLACE13196364.gif", null, null, null, null, null, null, "http://dessne.cosmology.illinois.edu/SNWG/stamps/stamps/20160822-r2457/D_SN-E1_r_s1/p01/ccd07/stamps/REPLACE11977574.gif", "http://dessne.cosmology.illinois.edu/SNWG/stamps/stamps/20160826-r2470/D_SN-E1_r_s1/p01/ccd07/stamps/REPLACE12340841.gif", "http://dessne.cosmology.illinois.edu/SNWG/stamps/stamps/20160828-r2473/D_SN-E1_r_s1/p01/ccd07/stamps/REPLACE12380761.gif", "http://dessne.cosmology.illinois.edu/SNWG/stamps/stamps/20160901-r2487/D_SN-E1_r_s1/p01/ccd07/stamps/REPLACE12479187.gif", "http://dessne.cosmology.illinois.edu/SNWG/stamps/stamps/20160905-r2495/D_SN-E1_r_s1/p01/ccd07/stamps/REPLACE12587204.gif", "http://dessne.cosmology.illinois.edu/SNWG/stamps/stamps/20160906-r2500/D_SN-E1_r_s1/p01/ccd07/stamps/REPLACE12653393.gif", "http://dessne.cosmology.illinois.edu/SNWG/stamps/stamps/20160910-r2517/D_SN-E1_r_s1/p01/ccd07/stamps/REPLACE12691860.gif", "http://dessne.cosmology.illinois.edu/SNWG/stamps/stamps/20160913-r2527/D_SN-E1_r_s1/p01/ccd07/stamps/REPLACE12796711.gif", "http://dessne.cosmology.illinois.edu/SNWG/stamps/stamps/20160925-r2552/D_SN-E1_r_s1/p01/ccd07/stamps/REPLACE13070667.gif", null, null, null, "http://dessne.cosmology.illinois.edu/SNWG/stamps/stamps/20161020-r2676/D_SN-E1_r_s1/p01/ccd07/stamps/REPLACE13781699.gif", null, null, null, "http://dessne.cosmology.illinois.edu/SNWG/stamps/stamps/20161126-r2740/D_SN-E1_r_s1/p02/ccd07/stamps/REPLACE14641636.gif", null, null, "http://dessne.cosmology.illinois.edu/SNWG/stamps/stamps/20160822-r2457/D_SN-E1_i_s1/p01/ccd07/stamps/REPLACE11987897.gif", "http://dessne.cosmology.illinois.edu/SNWG/stamps/stamps/20160826-r2470/D_SN-E1_i_s1/p01/ccd07/stamps/REPLACE12350351.gif", "http://dessne.cosmology.illinois.edu/SNWG/stamps/stamps/20160828-r2473/D_SN-E1_i_s1/p01/ccd07/stamps/REPLACE12377336.gif", "http://dessne.cosmology.illinois.edu/SNWG/stamps/stamps/20160901-r2487/D_SN-E1_i_s1/p01/ccd07/stamps/REPLACE12479398.gif", "http://dessne.cosmology.illinois.edu/SNWG/stamps/stamps/20160905-r2495/D_SN-E1_i_s1/p01/ccd07/stamps/REPLACE12588909.gif", "http://dessne.cosmology.illinois.edu/SNWG/stamps/stamps/20160906-r2500/D_SN-E1_i_s1/p01/ccd07/stamps/REPLACE12654525.gif", "http://dessne.cosmology.illinois.edu/SNWG/stamps/stamps/20160910-r2517/D_SN-E1_i_s1/p01/ccd07/stamps/REPLACE12687124.gif", "http://dessne.cosmology.illinois.edu/SNWG/stamps/stamps/20160913-r2527/D_SN-E1_i_s1/p01/ccd07/stamps/REPLACE12796895.gif", "http://dessne.cosmology.illinois.edu/SNWG/stamps/stamps/20160925-r2552/D_SN-E1_i_s1/p01/ccd07/stamps/REPLACE13072091.gif", "http://dessne.cosmology.illinois.edu/SNWG/stamps/stamps/20160929-r2563/D_SN-E1_i_s1/p01/ccd07/stamps/REPLACE13199827.gif", null, null, "http://dessne.cosmology.illinois.edu/SNWG/stamps/stamps/20161020-r2676/D_SN-E1_i_s1/p01/ccd07/stamps/REPLACE13777162.gif", "http://dessne.cosmology.illinois.edu/SNWG/stamps/stamps/20161101-r2703/D_SN-E1_i_s1/p01/ccd07/stamps/REPLACE13934432.gif", "http://dessne.cosmology.illinois.edu/SNWG/stamps/stamps/20161115-r2722/D_SN-E1_i_s1/p01/ccd07/stamps/REPLACE14204070.gif", null, null, "http://dessne.cosmology.illinois.edu/SNWG/stamps/stamps/20161126-r2740/D_SN-E1_i_s1/p01/ccd07/stamps/REPLACE14633800.gif", null, null, null, "http://dessne.cosmology.illinois.edu/SNWG/stamps/stamps/20160822-r2457/D_SN-E1_z_s1/p03/ccd07/stamps/REPLACE12031321.gif", "http://dessne.cosmology.illinois.edu/SNWG/stamps/stamps/20160826-r2470/D_SN-E1_z_s1/p01/ccd07/stamps/REPLACE12343204.gif", "http://dessne.cosmology.illinois.edu/SNWG/stamps/stamps/20160828-r2473/D_SN-E1_z_s1/p01/ccd07/stamps/REPLACE12385020.gif", "http://dessne.cosmology.illinois.edu/SNWG/stamps/stamps/20160901-r2487/D_SN-E1_z_s1/p01/ccd07/stamps/REPLACE12476256.gif", "http://dessne.cosmology.illinois.edu/SNWG/stamps/stamps/20160905-r2495/D_SN-E1_z_s1/p01/ccd07/stamps/REPLACE12596465.gif", "http://dessne.cosmology.illinois.edu/SNWG/stamps/stamps/20160906-r2500/D_SN-E1_z_s1/p01/ccd07/stamps/REPLACE12655134.gif", "http://dessne.cosmology.illinois.edu/SNWG/stamps/stamps/20160910-r2517/D_SN-E1_z_s1/p01/ccd07/stamps/REPLACE12689992.gif", "http://dessne.cosmology.illinois.edu/SNWG/stamps/stamps/20160913-r2527/D_SN-E1_z_s1/p01/ccd07/stamps/REPLACE12806439.gif", "http://dessne.cosmology.illinois.edu/SNWG/stamps/stamps/20160921-r2541/D_SN-E1_z_s1/p01/ccd07/stamps/REPLACE12970553.gif", "http://dessne.cosmology.illinois.edu/SNWG/stamps/stamps/20160925-r2552/D_SN-E1_z_s1/p01/ccd07/stamps/REPLACE13081286.gif", null, "http://dessne.cosmology.illinois.edu/SNWG/stamps/stamps/20161009-r2594/D_SN-E1_z_s1/p01/ccd07/stamps/REPLACE13413349.gif", "http://dessne.cosmology.illinois.edu/SNWG/stamps/stamps/20161018-r2631/D_SN-E1_z_s1/p01/ccd07/stamps/REPLACE13576154.gif", "http://dessne.cosmology.illinois.edu/SNWG/stamps/stamps/20161019-r2673/D_SN-E1_z_s1/p02/ccd07/stamps/REPLACE13685640.gif", "http://dessne.cosmology.illinois.edu/SNWG/stamps/stamps/20161020-r2676/D_SN-E1_z_s1/p01/ccd07/stamps/REPLACE13785983.gif", "http://dessne.cosmology.illinois.edu/SNWG/stamps/stamps/20161024-r2686/D_SN-E1_z_s1/p01/ccd07/stamps/REPLACE13821633.gif", "http://dessne.cosmology.illinois.edu/SNWG/stamps/stamps/20161101-r2703/D_SN-E1_z_s1/p03/ccd07/stamps/REPLACE14009402.gif", "http://dessne.cosmology.illinois.edu/SNWG/stamps/stamps/20161115-r2722/D_SN-E1_z_s1/p01/ccd07/stamps/REPLACE14208831.gif", null, "http://dessne.cosmology.illinois.edu/SNWG/stamps/stamps/20161126-r2740/D_SN-E1_z_s1/p01/ccd07/stamps/REPLACE14640462.gif", null, null]};

var ymin = null;
var ymax = null;
for( var i = 0; i < bands.length; i ++ ) {
    var filter = bands[ i ].filter;
    var color  = bands[ i ].color;
    var series_data  = [];
    var series_error = [];
    for( var pos = 0; pos < data.mjd.length; pos ++ ) {
        if( data.band[ pos ] != filter ) continue;
        var utc_ms = ( data.mjd[ pos ] - 40587.0 ) * 86400000.0;
        if( data.snr[ pos ] > 3.0 )
        {
            series_data.push( { x : utc_ms, y : data.mag[ pos ] } );
            series_error.push( { x : utc_ms, low : data.mag[ pos ] - data.mag_error[ pos ], high : data.mag[ pos ] + data.mag_error[ pos ] } );
        }
        else
        {
            series_data.push( { x : utc_ms, y : data.mag[ pos ], marker : { symbol : "cross", lineColor : color, lineWidth : 2, radius : 5 } } );
        }
        if( ymin === null || data.mag[ pos ] < ymin ) ymin = data.mag[ pos ];
        if( ymax === null || data.mag[ pos ] > ymax ) ymax = data.mag[ pos ];
    }
    options.series.push( {
        color : color       ,
        data  : series_data ,
        name  : filter      ,
        type  : "scatter"   ,
        zIndex : 1000,
        showInLegend : true,
    } );
    options.series.push( {
        color : color       ,
        data  : series_error,
        enableMouseTracking : false,
        lineWidth : 2,
        name  : filter      ,
        type  : "errorbar"  ,
        whiskerLength : 0,
    } );
}

options.yAxis.min = ymin - 0.1;
options.yAxis.max = ymax + 0.1;

$( "#photometry-plot" ).highcharts( options );

// Stamps.

var stamp_data = [];
for( var i = 0; i < data.mjd.length; i++ ) {

    var stamps = data.stamps[ i ];
    if( ! stamps ) continue;

    var band = data.band[ i ];
    var mag  = data.mag[ i ];
    var dmag = data.mag_error[ i ];
    var snr  = data.snr[ i ];
    var mjd  = data.mjd[ i ];

    var utc = new Date( ( mjd - 40587.0 ) * 86400000.0 );
    var utc_year  = utc.getUTCFullYear();
    var utc_month = utc.getUTCMonth() + 1;
    var utc_day   = utc.getUTCDate() + ( utc.getUTCHours() * 60.0 + utc.getUTCMinutes() ) / 1440.0;
    utc_month = utc_month < 10 ? "0" + utc_month : utc_month;
    utc_day   = utc_day   < 10 ? "0" + utc_day.toFixed( 2 ) : utc_day.toFixed( 2 );

    stamp_data.push( {
        mjd  : mjd,
        utc  : utc_year + "-" + utc_month + "-" + utc_day,
        mag  : mag.toFixed( 2 ),
        dmag : dmag.toFixed( 2 ),
        snr  : snr.toFixed( 1 ),
        band : band,
        srch : stamps.replace( "https", "http" ).replace( "REPLACE", "srch" ),
        temp : stamps.replace( "https", "http" ).replace( "REPLACE", "temp" ),
        diff : stamps.replace( "https", "http" ).replace( "REPLACE", "diff" ),
    } );

}

stamp_data.sort( function( a, b ) {
    return a.mjd - b.mjd;                    
} );

var start = stamp_data[ 0 ].mjd;
for( var i = 0; i < stamp_data.length; i++ ) {
    stamp_data[ i ].day = Math.round( stamp_data[ i ].mjd - start );
}

var stamp_map = {};
for( var i = 0; i < stamp_data.length; i++ ) {
    var entry = stamp_data[ i ];
    if( ! ( entry.day in stamp_map ) ) stamp_map[ entry.day ] = {};
    for( var j = 0; j < bands.length; j++ ) {
        var band   = bands[ j ];
        var filter = band.filter;
        if( ! ( filter in stamp_map[ entry.day ] ) ) stamp_map[ entry.day ][ filter ] = null;
        if( entry.band == filter ) stamp_map[ entry.day ][ filter ] = entry;
    }
}

var stamp_days = [];
for( var key in stamp_map ) {
    if( stamp_map.hasOwnProperty( key ) ) stamp_days.push( key );
}
stamp_days.sort( function( a, b ) {
    return a - b;
} );

var html = "";
for( var i = 0; i < stamp_days.length; i++ ) {
    html += "<div class='col-md-12'><div class=row>";
    for( var j = 0; j < bands.length; j++ ) {
        var band   = bands[ j ];
        var filter = band.filter;
        var color  = band.color;
        var entry  = stamp_map[ stamp_days[ i ] ][ filter ];
        html += "<div class='col-lg-3 col-md-3 col-sm-3'>";
        html += "<div class=display style='color: " + color + ";'>";
        if( entry ) {
            html += "<div class='display-header'><small>";
            html += entry.utc + " &bull; " + entry.mjd.toFixed( 2 );
            html += "</small></div>";
            html += "<div class='display-body'>";
            html += "<img src='" + entry.srch + "' width=60 height=60'>";
            html += "<img src='" + entry.temp + "' width=60 height=60'>";
            html += "<img src='" + entry.diff + "' width=60 height=60'>";
            html += "</div>";
            html += "<div class='display-footer'><small>";
            html += filter + " = " + entry.mag + " &plusmn " + entry.dmag + " &bull; ";
            html += "S/N = " + entry.snr;
            html += "</small></div>";
        }
        html += "</div>";
        html += "</div>";
    }
    html += "</div>";
    html += "</div>";
}

$( "#stamps_display" ).html( html );

</script>

        
    </body>

</html>